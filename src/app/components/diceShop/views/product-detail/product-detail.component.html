<div class="container mt-5" *ngIf="product">
  <mat-card class="p-4">
    <div class="row g-4">
      <!-- Imagen del producto -->
      <div class="col-md-5 text-center">
        <img [src]="product.image" class="img-fluid rounded" alt="{{ product.name }}" style="max-height: 400px;">
      </div>

      <!-- Detalle del producto -->
      <div class="col-md-7">
        <div class="d-flex flex-column gap-3">
          <h2>{{ product.name }}</h2>
          <h4 class="text-muted">{{ product.price | currency }}</h4>

          <p>{{ product.description }}</p>

          <p><strong>Categoría:</strong> {{ product.categoryName }}</p>
          <p><strong>Stock disponible:</strong> {{ product.stock }}</p>

          <!-- Campo Cantidad debajo de stock -->
          <mat-form-field appearance="fill" class="w-25">
            <mat-label>Cantidad</mat-label>
            <input matInput type="number" min="1" [max]="product.stock" [(ngModel)]="quantity">
          </mat-form-field>

          <!-- Botones alineados a la derecha -->
          <div class="d-flex justify-content-end gap-2 mt-2">
            <button mat-stroked-button color="primary" (click)="returnStore()">
              <mat-icon class="me-1">arrow_back</mat-icon> Volver
            </button>

            <button mat-raised-button color="primary" (click)="onAddToCart()"
              [disabled]="quantity < 1 || quantity > product.stock!">
              Añadir al carrito
            </button>
          </div>
        </div>
      </div>

    </div>
  </mat-card>
</div>

<!-- Cargando -->
<div class="text-center mt-5" *ngIf="!product">
  <mat-spinner></mat-spinner>
</div>